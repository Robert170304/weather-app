[{"C:\\Users\\HP\\weather-app\\src\\index.js":"1","C:\\Users\\HP\\weather-app\\src\\App.js":"2","C:\\Users\\HP\\weather-app\\src\\components\\TimeaAndLocation.jsx":"3","C:\\Users\\HP\\weather-app\\src\\services\\WeatherServices.js":"4","C:\\Users\\HP\\weather-app\\src\\components\\Forecast.jsx":"5","C:\\Users\\HP\\weather-app\\src\\components\\Inputs.jsx":"6","C:\\Users\\HP\\weather-app\\src\\components\\TopBtns.jsx":"7","C:\\Users\\HP\\weather-app\\src\\components\\More.jsx":"8","C:\\Users\\HP\\weather-app\\src\\components\\TempDetails.jsx":"9","C:\\Users\\HP\\weather-app\\src\\components\\Modal.jsx":"10","C:\\Users\\HP\\weather-app\\src\\components\\DropDownContent.jsx":"11"},{"size":265,"mtime":1656426743449,"results":"12","hashOfConfig":"13"},{"size":5725,"mtime":1656489295661,"results":"14","hashOfConfig":"13"},{"size":677,"mtime":1656489602921,"results":"15","hashOfConfig":"13"},{"size":2241,"mtime":1656426743459,"results":"16","hashOfConfig":"13"},{"size":964,"mtime":1656426743400,"results":"17","hashOfConfig":"13"},{"size":1986,"mtime":1656426743415,"results":"18","hashOfConfig":"13"},{"size":891,"mtime":1656426743445,"results":"19","hashOfConfig":"13"},{"size":2106,"mtime":1656170297484,"results":"20","hashOfConfig":"13"},{"size":2861,"mtime":1656484418997,"results":"21","hashOfConfig":"13"},{"size":2193,"mtime":1656426743418,"results":"22","hashOfConfig":"13"},{"size":4105,"mtime":1656489775444,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"q9xb9r",{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\HP\\weather-app\\src\\index.js",[],[],"C:\\Users\\HP\\weather-app\\src\\App.js",["59","60"],[],"import './App.css';\r\nimport React from 'react';\r\nimport TopBtns from './components/TopBtns';\r\nimport Inputs from './components/Inputs';\r\nimport TimeaAndLocation from './components/TimeaAndLocation';\r\nimport TempDetails from './components/TempDetails';\r\nimport Forecast from './components/Forecast';\r\nimport getFormattedData from './services/WeatherServices';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { ReactNotifications, Store } from 'react-notifications-component'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport Modal from './components/Modal';\r\nimport { UilAngleDown } from '@iconscout/react-unicons'\r\nimport DropDownContent from './components/DropDownContent';\r\nimport {motion, AnimatePresence} from 'framer-motion'\r\n\r\n\r\nfunction App() {\r\n\r\n  const [location, setLocation] = React.useState(\"\")\r\n  const currentUserCity = localStorage.getItem(\"usercity\");\r\n  const userLocationCoords = localStorage.getItem(\"userCoords\");\r\n  const [query, setQuery] = React.useState(userLocationCoords ? JSON.parse(userLocationCoords) : {q: currentUserCity ? currentUserCity : 'berlin' })\r\n  const [units, setUnit] = React.useState('metric')\r\n  const [weather, setWeather] = React.useState(null)\r\n  const [showMore, setShowMore] = React.useState(false)\r\n  const [showDropDown, setShowDropDown] = React.useState(false)\r\n  const [isPending, startTransition] = React.useTransition()\r\n  const modalRef = React.forwardRef()\r\n  const [displayCurrentLocation, setDisplayCurrentLocation] = React.useState('No current location')\r\n\r\n  React.useEffect(() => {\r\n    (async function () {\r\n      const msg = query.q ? query.q : 'current location'\r\n      toast.info('Fetching weather for ' + msg)\r\n      await getFormattedData({...query, units}).then((data) => {\r\n        toast.success(`Successfully fetched weather for ${data.name}, ${data.country}`)\r\n        setWeather(data)\r\n      })\r\n    })()\r\n  },[query, units]);\r\n\r\n  React.useEffect(() => {\r\n    if (showMore || showDropDown) {\r\n        document.body.style.overflow = \"hidden\";\r\n    } else {\r\n        document.body.style.overflow = \"auto\";\r\n    }\r\n  })\r\n\r\n  // React.useEffect(() => {\r\n  //   function getClickOutSide(e) {\r\n  //     if(showMore && e.target !== modalRef.current) {\r\n  //       setShowMore(false);\r\n  //     }\r\n  //   }\r\n  //   window.addEventListener('click', getClickOutSide);\r\n  //   return () => {\r\n  //     window.removeEventListener('click', getClickOutSide);\r\n  //   }\r\n  // }, [showMore])\r\n\r\n  function formatBg() {\r\n    const thresold = units === 'metric'? 20 : 60\r\n    if (!weather || weather.temp <= thresold) {\r\n      return 'from-cyan-700 to-blue-700'\r\n    }else{\r\n      return 'from-yellow-700 to-orange-700'\r\n    }\r\n  }\r\n\r\n  function handleCloseMore() {\r\n    if (showMore) {\r\n      setShowMore(false)\r\n    } else if (showDropDown) {\r\n      setShowDropDown(false)\r\n    }\r\n  }\r\n\r\n  function settingUserLocation() {\r\n    if(location){\r\n      startTransition(() => {\r\n        handleCloseMore()\r\n      })\r\n      localStorage.setItem(\"usercity\", location);\r\n      localStorage.removeItem('userCoords');\r\n      setQuery({q: location})\r\n    }else if(location === \"\") {\r\n      alert('please provide your city name')\r\n    }\r\n  }\r\n\r\n  function detectUserLocation() {\r\n    startTransition(() => {\r\n      handleCloseMore()\r\n      setDisplayCurrentLocation({city: weather.name, country: weather.country})\r\n    })\r\n    if (navigator.geolocation) {\r\n      toast.info('Fetching your location')\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        let lat = position.coords.latitude\r\n        let lon = position.coords.longitude\r\n        let coords = {lat, lon}\r\n        localStorage.setItem(\"userCoords\",JSON.stringify(coords));\r\n        localStorage.removeItem('usercity');\r\n        setQuery(coords)\r\n      })\r\n    }\r\n  }\r\n\r\n  return (<>\r\n    {showMore && <Modal showMore={showMore} \r\n      ref={modalRef}\r\n      handleCloseMore={handleCloseMore} \r\n      location={location}\r\n      setLocation={setLocation}\r\n      settingUserLocation={settingUserLocation} \r\n      isPending={isPending}\r\n      detectUserLocation={detectUserLocation}/>} \r\n    <AnimatePresence>\r\n      {showDropDown && \r\n      <motion.div key=\"content\"\r\n      initial=\"collapsed\"\r\n      animate=\"open\"\r\n      exit=\"collapsed\"\r\n      variants={{\r\n        open: { opacity: 1, height: 0 },\r\n        collapsed: { opacity: 0, height: \"-50%\" }\r\n      }}\r\n      transition={{type:\"spring\", stiffness:\"100\", duration: 0.8, ease: [0.04, 0.62, 0.23, 0.98] }}>\r\n        <DropDownContent displayCurrentLocation={displayCurrentLocation}\r\n          handleCloseMore={handleCloseMore} \r\n          weather={weather}/>\r\n      </motion.div>}\r\n    </AnimatePresence>\r\n    <div className={`App mx-auto m-4 px-3 py-3 bg-gradient-to-br ${formatBg()} h-fit shadow-xl shadow-gray-400 md:py-5 md:px-32`}>\r\n      <motion.button type='button' whileTap={{scale: 0.9}} className='text-white inline-flex' onClick={() => setShowDropDown(true)}>\r\n        <p>Petlad, IN</p>\r\n        <UilAngleDown size={20}/>\r\n      </motion.button>\r\n      <TopBtns setQuery={setQuery} showMore={showMore} setShowMore={setShowMore}/>\r\n      <Inputs setQuery={setQuery} units={units} setUnit={setUnit}/>\r\n      {weather && (\r\n        <>\r\n          <TimeaAndLocation weather={weather}/>\r\n          <TempDetails weather={weather}/>\r\n          <Forecast title=\"hourly forecast\" items={weather.hourly}/>\r\n          <Forecast title=\"daily forecast\" items={weather.daily}/>\r\n        </>\r\n      )}\r\n      {/* <ReactNotifications /> */}\r\n      <ToastContainer autoClose={5000} theme='colored' newestOnTop={true}/>\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n",[],"C:\\Users\\HP\\weather-app\\src\\components\\TimeaAndLocation.jsx",[],[],"C:\\Users\\HP\\weather-app\\src\\services\\WeatherServices.js",[],[],"C:\\Users\\HP\\weather-app\\src\\components\\Forecast.jsx",[],[],"C:\\Users\\HP\\weather-app\\src\\components\\Inputs.jsx",[],[],"C:\\Users\\HP\\weather-app\\src\\components\\TopBtns.jsx",[],[],"C:\\Users\\HP\\weather-app\\src\\components\\More.jsx",[],[],"C:\\Users\\HP\\weather-app\\src\\components\\TempDetails.jsx",[],[],"C:\\Users\\HP\\weather-app\\src\\components\\Modal.jsx",[],[],"C:\\Users\\HP\\weather-app\\src\\components\\DropDownContent.jsx",[],[],{"ruleId":"61","severity":1,"message":"62","line":10,"column":10,"nodeType":"63","messageId":"64","endLine":10,"endColumn":28},{"ruleId":"61","severity":1,"message":"65","line":10,"column":30,"nodeType":"63","messageId":"64","endLine":10,"endColumn":35},"no-unused-vars","'ReactNotifications' is defined but never used.","Identifier","unusedVar","'Store' is defined but never used."]